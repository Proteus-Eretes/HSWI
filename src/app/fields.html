<script>
  var checkFields = function(array){
    array[array.length - 1].isapproved = array[array.length - 1].isapproved === '1';
    for (var i = array.length - 2; i >= 0; i++) {
      if (array[i + 1].fieldnameshort !== array[i].fieldnameshort) {
        array[i].isapproved = array[i].isapproved === '1';
      } else {
        array[i].isapproved = array[i + 1].isapproved;
      }
    }
    return array;
  };

  var hasFields = function(fieldlist,n) {
      for(var i = 0; i < fieldlist.length; i++)
      {
          if(parseInt(fieldlist[i].numberofrowers,10) === n){
              return true;
          }
      }
      return false;
  };

  var fillFields = function (array, field) {
      if (array != null) {
          var object = {}, i, length = array.length, res = [];
          for (i = 0; i < length; i += 1) {
              object[array[i][field]] = array[i];
          }
          for (i in object) {
              res.push(object[i]);
          }
          return res;
      }
  };
</script>
