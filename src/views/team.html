<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../styles/shared-styles-tables.html">
<link rel="import" href="../app/time.html">


<dom-module id="team-modal">
  <template>
    <style include="shared-styles-tables">
    </style>
    <h2> [[team.teamname]]</h2>
    <table class="table" style="text-align: left">
        <tbody>
          <template is="dom-if" if=[[show(team.clubname)]]>
            <tr>
              <td><b>Vereniging</b></td>
              <td>[[team.clubname]]</td>
            </tr>
          </template>
          <template is="dom-if" if=[[show(team.backnumber)]]>
            <tr>
              <td><b>Rugnummer</b></td>
              <td>[[team.backnumber]]</td>
            </tr>
          </template>
          <template is="dom-if" if=[[show(team.fieldnameshort)]]>
            <tr>
              <td><b>Veld</b></td>
              <td>[[team.fieldnameshort]]</td>
            </tr>
          </template>
          <template is="dom-if" if=[[showSubField(team.fieldnameshortsub,team.fieldnameshort)]]>
            <tr>
              <td><b>Subveld</b></td>
              <td>[[team.fieldnameshortsub]]</td>
            </tr>
          </template>
          <template is="dom-if" if=[[showTime(team.splash1)]]>
            <tr>
              <td><b>Tussentijd 1</b></td>
              <td>[[displayTime(team.splash1,0)]]</td>
            </tr>
          </template>
          <template is="dom-if" if=[[showTime(team.splash2)]]>
            <tr>
              <td><b>Tussentijd 2</b></td>
              <td>[[displayTime(team.splash2,0)]]</td>
            </tr>
          </template>
          <template is="dom-if" if=[[showTime(team.splash3)]]>
            <tr>
              <td><b>Tussentijd 3</b></td>
              <td>[[displayTime(team.splash3,0)]]</td>
            </tr>
          </template>
          <template is="dom-if" if=[[showTime(team.splash4)]]>
            <tr>
              <td><b>Tussentijd 4</b></td>
              <td>[[displayTime(team.splash4,0)]]</td>
            </tr>
          </template>
          <template is="dom-if" if=[[show(team.totaltime)]]>
            <tr>
              <td><b>Finishtijd</b></td>
              <td>[[displayTime(team.totaltime,team.bonussecond)]]</td>
            </tr>
          </template>
          <template is="dom-if" if=[[team.times]]>
            <template is="dom-repeat" items="teams.times" as="times">
              <template is="dom-if" if=[[showTime(times.splash1)]]>
                <tr>
                  <template is="dom-if" if=[[rounds]]>
                    <td>Tussentijd 1 ronde [[index + 1]]</td>
                  </template>
                  <template is="dom-if" if=![[rounds]]>
                    <td>Tussentijd 1</td>
                  </template>
                  <td>[[displayTime(times.splash1,0)]]</td>
                </tr>
              </template>
              <template is="dom-if" if=[[showTime(times.splash2)]]>
                <tr>
                  <template is="dom-if" if=[[rounds]]>
                    <td>Tussentijd 2 ronde [[index + 1]]</td>
                  </template>
                  <template is="dom-if" if=![[rounds]]>
                    <td>Tussentijd 2</td>
                  </template>
                  <td>[[displayTime(times.splash2,0)]]</td>
                </tr>
              </template>
              <template is="dom-if" if=[[showTime(times.splash3)]]>
                <tr>
                  <template is="dom-if" if=[[rounds]]>
                    <td>Tussentijd 3 ronde [[index + 1]]</td>
                  </template>
                  <template is="dom-if" if=![[rounds]]>
                    <td>Tussentijd 3</td>
                  </template>
                  <td>[[displayTime(times.splash3,0)]]</td>
                </tr>
              </template>
              <template is="dom-if" if=[[showTime(times.splash4)]]>
                <tr>
                  <template is="dom-if" if=[[rounds]]>
                    <td>Tussentijd 4 ronde [[index + 1]]</td>
                  </template>
                  <template is="dom-if" if=![[rounds]]>
                    <td>Tussentijd 4</td>
                  </template>
                  <td>[[displayTime(times.splash4,0)]]</td>
                </tr>
              </template>
              <template is="dom-if" if=[[show(times.totaltime)]]>
                <tr>
                  <template is="dom-if" if=[[rounds]]>
                    <td>Finishtijd ronde [[index + 1]]</td>
                  </template>
                  <template is="dom-if" if=![[rounds]]>
                    <td>Finishtijd</td>
                  </template>
                  <td>[[displayTime(times.totaltime,times.bonussecond)]]</td>
                </tr>
              </template>
            </template>
          </template>
          <template is="dom-if" if=[[show(team.rower1)]]>
            <tr>
              <td><b>Boeg</b></td>
              <td>[[team.rower1]]</td>
            </tr>
          </template>
          <template is="dom-if" if=[[show(team.rower2)]]>
            <tr>
              <td><b>2</b></td>
              <td>[[team.rower2]]</td>
            </tr>
          </template>
          <template is="dom-if" if=[[show(team.rower3)]]>
            <tr>
              <td><b>3</b></td>
              <td>[[team.rower3]]</td>
            </tr>
          </template>
          <template is="dom-if" if=[[show(team.rower4)]]>
            <tr>
              <td><b>4</b></td>
              <td>[[team.rower4]]</td>
            </tr>
          </template>
          <template is="dom-if" if=[[show(team.rower5)]]>
            <tr>
              <td><b>5</b></td>
              <td>[[team.rower5]]</td>
            </tr>
          </template>
          <template is="dom-if" if=[[show(team.rower6)]]>
            <tr>
              <td><b>6</b></td>
              <td>[[team.rower6]]</td>
            </tr>
          </template>
          <template is="dom-if" if=[[show(team.rower7)]]>
            <tr>
              <td><b>7</b></td>
              <td>[[team.rower7]]</td>
            </tr>
          </template>
          <template is="dom-if" if=[[show(team.rower8)]]>
            <tr>
              <td><b>Slag</b></td>
              <td>[[team.rower8]]</td>
            </tr>
          </template>
          <template is="dom-if" if=[[show(team.steername)]]>
            <tr>
              <td><b>Stuur</b></td>
              <td>[[team.steername]]</td>
            </tr>
          </template>
          <template is="dom-if" if=[[show(team.coachnames)]]>
            <tr>
              <td><b>Choach</b></td>
              <td>[[team.coachnames]]</td>
            </tr>
          </template>
          <template is="dom-if" if=[[show(team.comments)]]>
            <tr>
              <td><b>Commentaar</b></td>
              <td>[[team.comments]]</td>
            </tr>
          </template>
          <template is="dom-if" if="[[show(team.times[0].comments)]]">
            <tr>
              <td><b>Commentaar</b></td>
              <td>[[team.times[0].comments]]</td>
            </tr>
          </template>
        </tbody>
      </table>
  </template>


  <script>
    Polymer({
      is: 'team-modal',
      show: function(val) {
        return val !== null && val !== '' && val !== undefined && val != 0;
      },
      showSubField: function(sub,field) {
        if (this.show(sub)) {
          return sub !== field;
        }
        return false;
      },
      showTime: function(seconds) {
        if (this.show(seconds)) {
          return seconds !== '0.00';
        }
        return false;
      },
      displayTime: function(time,bonussecond) {
        return FormatTime(FinalTime(time,bonussecond));
      },
      properties: {
        team: {
          type: Array,
          notify: false,
          readOnly: false,
        },
        rounds: {
          type: Boolean,
          notify: false,
          readOnly: false,
          value: false,
        }
      },
    });
  </script>
</dom-module>
